language: rust
rust:
  - stable
#  - beta
#  - nightly
before_script:
  - rustup component add clippy

env:
  - TEST_FLAG=
  - TEST_FLAG=--features=pk_in_g2
  - TEST_FLAG=--features=pk_in_g2,use_rand_generators
  - TEST_FLAG=--release
  - TEST_FLAG=--features=pk_in_g2 --release
  - TEST_FLAG=--features=pk_in_g2,use_rand_generators --release -- --ignored
  - CARGO_FLAG=test $TEST_FLAG
  - CARGO_FLAG=test $TEST_FLAG --ignored
  - CARGO_FLAG=bench
script:
  - cargo clippy
  # if you want the build job to fail when encountering warnings, use
  - cargo clippy -- -D warnings
  # in order to also check tests and non-default crate features, use
  - cargo clippy --all-targets --all-features -- -D warnings
  # all sorts of tests with different compiling flags
  - cargo $CARGO_FLAG
# if: rust = stable
#   - cargo bench

  # etc.
